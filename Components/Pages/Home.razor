@page "/"
@using Application.Interfaces
@inject IOcrService OcrService

<h3>OCR </h3>
<InputFile OnChange="HandleFileUpload" />

@if (!string.IsNullOrWhiteSpace(ExtractedText))
{
    <h4>Extracted Text</h4>
    <pre>@ExtractedText</pre>
}

@code {
    private string ExtractedText = string.Empty;

    private async Task HandleFileUpload(InputFileChangeEventArgs e)
    {
        var file = e.File;
        using var stream = file.OpenReadStream(maxAllowedSize: 10_000_000);
        ExtractedText = await OcrService.ExtractTextAsync(stream);
    }
}
